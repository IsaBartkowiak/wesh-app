{"version":3,"sources":["scripts/app.js"],"names":["angular","module","navbar","NavbarController","$rootScope","$state","$sce","notification","auth","init","vm","notificationsCount","get","id","user","data","notifications","forEach","value","key","seen","sanitize","string","trustAsHtml","readNotif","read","status","logout","go","this","currentState","current","name","currentUser","notifPanel","$inject","directive","restrict","templateUrl","controller","scope","bloctitle","subtitle","controllerAs","bindToController","relativeDate","moment","date","startOf","fromNow","filter","myParticipation","items","filtered","length","ev","slots","slot","users","indexOf","push","cleanDate","format","compareTo","CompareTo","$scope","element","attributes","ngModel","$validators","modelValue","otherModelValue","$validate","$watch","require","link","ProfileCtrl","$timeout","toastr","event","saveChanges","form","console","log","$valid","update","success","error","context","newPassword","confirmNewPassword","MainController","$document","participations","activate","getAll","events","showAll","activeTab","showUser","owner","showDone","closed","containsObject","obj","array","i","getIndexOf","bodyClass","RegisterController","createAccount","register","then","LoginController","authentificate","login","email","password","SingleEventController","$mdDialog","$stateParams","EditEventController","updateEvent","dates","create","deleteEvent","confirm","title","parent","document","querySelector","clickOutsideToClose","textContent","ariaLabel","targetEvent","ok","cancel","show","field","CloseEventController","changeSelection","selection","closeEvent","modal","Object","keys","close","notifyUsers","content","type","UserId","recommandation","showHelp","EventController","addField","fieldCount","removeField","index","splice","addEvent","userService","$resource","method","withCredentials","isArray","params","delete","url","loggedin","factory","slotService","participationsService","userid","notificationService","eventService","authService","$q","getUser","isLoggedIn","deferred","defer","lastname","biography","bio","resolve","reject","promise","err","runBlock","$log","$on","toState","toParams","fromState","fromParams","run","routerConfig","$stateProvider","$urlRouterProvider","$locationProvider","state","otherwise","html5Mode","config","constant","$logProvider","toastrConfig","$mdDateLocaleProvider","debugEnabled","locale","timeOut","showDuration","positionClass","newestOnTop","$templateCache","put"],"mappings":"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","file":"scripts/app-773b3a4464.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('events', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ngMaterial', 'toastr', 'ngMaterialDatePicker']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .directive('navbar', navbar);\n\n  /** @ngInject */\n  function navbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      controller: NavbarController,\n      scope: {\n        bloctitle: '=',\n        subtitle: '='\n      },\n      controllerAs: 'nav',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController($rootScope, $state, $sce, notification, auth) {\n      var vm = this;\n      vm.currentState = $state.current.name;\n      vm.user = $rootScope.currentUser;\n      vm.notifications = [];\n      vm.notificationsCount = 0;\n      vm.readNotif = readNotif;\n      vm.notifPanel = false;\n      vm.logout = logout;\n      vm.sanitize = sanitize;\n      \n      init();\n\n      function init() {\n        vm.notificationsCount = 0;\n        notification.get({id: vm.user.id}, function(data){\n          vm.notifications = data;\n          angular.forEach(vm.notifications, function(value, key) {\n            if(value.seen == false){\n              vm.notificationsCount++;\n            }\n          });\n        });\n      }\n      \n      \n      function sanitize(string){\n        return $sce.trustAsHtml(string);\n      }  \n      \n      function readNotif(id){\n        notification.read({id: id}, {}, function(data){\n          if(data.status == 'success'){\n            init();\n          }\n        });\n      }\n      \n      function logout(){\n        auth.logout();\n        $state.go(\"login\");\n      }\n      \n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .filter('relativeDate', relativeDate);\n\n  /** @ngInject */\n  function relativeDate(moment) {\n    return function(date) {\n      return moment(date).startOf(\"minute\").fromNow();\n\n    };\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .filter('myParticipation', myParticipation);\n\n  /** @ngInject */\n  function myParticipation($rootScope) {\n    return function(items) {\n      var filtered = [];\n      if(items.length){\n        angular.forEach(items, function(ev) {\n          angular.forEach(ev.slots, function(slot) {\n            angular.forEach(slot.users, function(user) {\n              if(user.id == $rootScope.currentUser.id && filtered.indexOf(ev) == -1) {\n                filtered.push(ev);\n              }\n            });\n          });\n        });\n      }\n      \n      return filtered;\n    };\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .filter('cleanDate', cleanDate);\n\n  /** @ngInject */\n  function cleanDate(moment) {\n    return function(date, format) {\n      return moment(date).format(format);\n    };\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .directive('compareTo', compareTo);\n\n  /** @ngInject */\n  function compareTo() {\n    var directive = {\n      restrict: 'A',\n      require: \"ngModel\",\n      link: CompareTo,\n      scope: {\n        otherModelValue: \"=compareTo\"\n    }\n};\n\nreturn directive;\n\n/** @ngInject */\nfunction CompareTo($scope, element, attributes, ngModel) {\n    \n    ngModel.$validators.compareTo = function(modelValue) {\n        return (modelValue == $scope.otherModelValue);\n    };  \n    ngModel.$validate();  \n    $scope.$watch(\"otherModelValue\", function() {\n        ngModel.$validate();\n    });\n}//fin CompareTo\n\n\n}//fin compareTo\n\n})();\n\n(function() {\n\t'use strict';\n\n\tangular\n\t.module('events')\n\t.controller('ProfileCtrl', ProfileCtrl);\n\n\t/** @ngInject */\n\tfunction ProfileCtrl($rootScope,$scope, $timeout, toastr, event, moment, users) {\n\n\t\t$rootScope.context = \"updateUser\";\n\t\tvar vm = this;\n\t\tvm.user = $rootScope.currentUser;\n\t\tvm.user.newPassword = \"\";\n\t\tvm.user.confirmNewPassword = \"\";\n\t\tvm.saveChanges = saveChanges;\n\n\t\tfunction saveChanges(form){\n\t\t\tconsole.log(form.$valid);\n\t\t\tif(form.$valid){\n\t\t\t\tusers.update({id: vm.user.id}, vm.user, function(data){\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tif(data.status == 'success'){\n\t\t\t\t\t\ttoastr.success('Votre compte a bien été modifié', 'Succès');\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttoastr.error('Une erreur est survenue', 'Oups');\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t}\n})();\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($rootScope, $timeout, $scope, $document, toastr, event, moment, users, participations) {\n    var vm = this;\n    $rootScope.bodyClass = \"app\";\n    $rootScope.context = \"main\";\n    \n    vm.events = [];\n    vm.data = moment;\n    vm.filter = {};\n    vm.activeTab = \"all\";\n    vm.containsObject = containsObject;\n    vm.getIndexOf = getIndexOf;\n    vm.showAll = showAll;\n    vm.showUser = showUser;\n    vm.showDone = showDone;\n\n    activate();\n\n    function activate() {\n      event.getAll(function(data){\n        vm.events = data;\n      });\n    }\n    \n    function showAll(){\n      vm.filter = '';\n      vm.activeTab = \"all\";\n    }\n    \n    function showUser(){\n      vm.filter = {\"owner\":{\"id\":$rootScope.currentUser.id}};\n      vm.activeTab = \"user\";\n    }\n\n    function showDone(){\n      vm.filter = {closed:true};\n      vm.activeTab = \"done\";\n    }\n    \n    function containsObject(obj, array) {\n      for (var i = 0; i < array.length; i++) {\n        if (array[i].id === obj.id) {\n          return true;\n        }\n      }\n      return false;\n    }\n    \n    function getIndexOf(obj, array){\n      for (var i = 0; i < array.length; i++) {\n        if (array[i].id === obj.id) {\n          return i;\n        }\n      }\n      return -1;\n    }\n\n    \n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .controller('RegisterController', RegisterController);\n\n  /** @ngInject */\n  function RegisterController($rootScope, $state, toastr, users, auth) {\n    var vm = this;\n    $rootScope.bodyClass = \"connexion\";\n\n    vm.user = {};\n    vm.createAccount = createAccount;\n\n    function createAccount() {\n      auth.register(vm.user)\n      .then(function(){\n        $state.go('home');\n        toastr.success('Bienvenue wesh :)', 'Ola!');\n      })\n      .catch(function(){\n        toastr.error('Une erreur est survenue', 'Oups');\n      });\n    }\n\n    \n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .controller('LoginController', LoginController);\n\n  /** @ngInject */\n  function LoginController($state, $rootScope, toastr, users, auth) {\n    var vm = this;\n    $rootScope.bodyClass = \"connexion\";\n\n    vm.email = \"\";\n    vm.password = \"\";\n    vm.authentificate = authentificate;\n\n    function authentificate() {\n      auth.login(vm.email, vm.password)\n      .then(function () {\n        toastr.success('Connexion réussie !', 'Succès');\n        $state.go(\"home\");\n      })\n      .catch(function () {\n        toastr.error('E-mail ou mot de passe invalide', 'Erreur');\n      });\n   \n    }\n    \n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .controller('SingleEventController', SingleEventController);\n\n  /** @ngInject */\n  function SingleEventController($rootScope, $mdDialog, $state, $document, $stateParams, notification, toastr, event, slot, participations) {\n    var vm = this;\n    vm.event = {};\n    vm.containsObject = containsObject;\n    vm.getIndexOf = getIndexOf;\n\n\n    init();\n\n    function init() {\n      event.get({id: $stateParams.id}, function(data){\n        vm.event = data;\n      });\n    }\n    \n    \n    function getIndexOf(obj, array){\n      for (var i = 0; i < array.length; i++) {\n        if (array[i].id === obj.id) {\n          return i;\n        }\n      }\n      return -1;\n    }\n    \n    function containsObject(obj, array) {\n      for (var i = 0; i < array.length; i++) {\n        if (array[i].id === obj.id) {\n          return true;\n        }\n      }\n      return false;\n    }\n    \n    \n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .controller('EditEventController', EditEventController);\n\n  /** @ngInject */\n  function EditEventController($rootScope, $stateParams, $timeout, $mdDialog, $state, toastr, event, slot) {\n    var vm = this;\n    vm.event = {};\n    vm.field = [];\n    vm.updateEvent = updateEvent;\n    vm.deleteEvent = deleteEvent;\n    \n    init();\n\n    function init() {\n      event.get({id: $stateParams.id}, function(data){\n        vm.event = data; \n      });\n    }\n\n    \n    //A l'enregistrement\n    function updateEvent(form){\n      if(form.$valid){\n        event.update({id: $stateParams.id}, vm.event, function(data){\n          if(data.status == \"success\"){\n            angular.forEach(vm.dates, function(value) {\n              slot.create({id:data.id}, value);\n            });\n            toastr.success('Votre évènement a bien été modifié', 'Succès');\n            $timeout(function(){\n              $state.go(\"singleevent\", {\"id\":data.id});\n            }, 500);\n          }else{\n            toastr.error('Une erreur est survenue', 'Oups');\n          }\n        });\n      }\n    }\n    \n     //Suppression\n    function deleteEvent(ev){\n      var confirm = $mdDialog.confirm()\n      .title('Confirmer')\n      .parent(angular.element(document.querySelector('#editevent')))\n      .clickOutsideToClose(true)\n      .textContent('Etes-vous sûr de vouloir supprimer cet évènement ?')\n      .ariaLabel('confirm')\n      .targetEvent(ev)\n      .ok('Oui')\n      .cancel('Annuler');\n\n      $mdDialog.show(confirm).then(function() {\n        event.delete({id: $stateParams.id}, function(data){\n          if(data.status == \"success\"){\n            toastr.success('Votre évènement a bien été supprimé', 'Succès');\n            $state.go('home');\n          }else{\n            toastr.error('Une erreur est survenue', 'Oups');\n          }\n        });\n      });\n    }\n    \n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .controller('CloseEventController', CloseEventController);\n\n  /** @ngInject */\n  function CloseEventController($rootScope, $stateParams, $state, $mdDialog, notification, toastr, event) {\n    var vm = this;\n    vm.event = {};\n    vm.selection = {};\n    vm.recommandation = false;\n    vm.changeSelection = changeSelection;\n    vm.closeEvent = closeEvent;\n    vm.showHelp = false;\n    vm.notifyUsers = notifyUsers;\n    \n    init();\n\n    function init() {\n      event.get({id: $stateParams.id}, function(data){\n        vm.event = data;\n      });\n    }\n    \n    function changeSelection(id){\n      vm.selection = {};\n      vm.selection[id] = true;\n    }\n    \n    function closeEvent(ev){\n\n      var modal = $mdDialog.confirm()\n      .title('Confirmer')\n      .parent(angular.element(document.querySelector('#closevent')))\n      .clickOutsideToClose(true)\n      .textContent('Etes-vous sûr de vouloir cloturer cet évènement ?')\n      .ariaLabel('confirm')\n      .targetEvent(ev)\n      .ok('Oui')\n      .cancel('Annuler');\n      \n      $mdDialog.show(modal).then(function() {\n        var obj = {id: Object.keys(vm.selection)[0]};\n        event.close({id: $stateParams.id}, obj, function(data){\n          if(data.status == \"success\"){\n            toastr.success('Votre évènement a bien été cloturé', 'Succès');\n            vm.notifyUsers();\n            $state.go(\"singleevent\", {\"id\":$stateParams.id});\n          }else{\n            toastr.error('Une erreur est survenue', 'Oups');\n          }\n        });\n      });\n    }\n    \n    \n    function notifyUsers(){\n      angular.forEach(vm.event.slots, function(slot) {\n        if(slot.users.length > 0){\n          angular.forEach(slot.users, function(user) {\n          var obj = {};\n          obj.content = \"L'évènement \"+vm.event.title+\" auquel vous avez participé a été cloturé !\";\n          obj.type = 1;\n          obj.UserId = user.id;\n          notification.create(obj);\n        });\n        }\n      });\n    }\n    \n    \n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .controller('EventController', EventController);\n\n  /** @ngInject */\n  function EventController($rootScope, $state, $timeout, toastr, event, slot) {\n    var vm = this;\n    $rootScope.context = \"add\";\n\n    vm.event = {};\n    vm.event.UserId = $rootScope.currentUser.id;\n    vm.field = [];\n    vm.fieldCount = 1;\n    vm.dates = {};\n    vm.addField = addField;\n    vm.removeField = removeField;\n    vm.addEvent = addEvent;\n\n    //ajoute un champ date (clic du +)\n    function addField() {\n      var date = {};\n      date.id = vm.fieldCount;\n      if(vm.field.length < 5){\n        vm.field.push(date);\n        vm.fieldCount++;\n      }\n    }\n    \n    //retire le champ date cliqué\n    function removeField(field) {\n      var index = vm.field.indexOf(field);\n      vm.field.splice(index, 1);\n      delete vm.dates[field.id];\n    }\n    \n    //A l'enregistrement\n    function addEvent(form){\n      if(form.$valid){\n        event.create(vm.event, function(data){\n          if(data.status == \"success\"){\n            angular.forEach(vm.dates, function(value) {\n              slot.create({id:data.id}, value);\n            });\n            $timeout(function(){\n              toastr.success('Votre évènement a bien été crée', 'Succès');\n              $state.go(\"singleevent\", {\"id\":data.id});\n            }, 500);\n\n          }else{\n            toastr.error('Une erreur est survenue', 'Oups');\n          }\n        });\n      }\n    }\n\n    \n  }\n})();\n\n(function () {\n   'use strict';\n\n   angular\n   .module('events')\n   .factory('users', userService);\n          \n    function userService($resource){\n          return $resource('https://wesh-app.herokuapp.com/api/users/', {}, {\n                create: { method: 'POST', withCredentials: true},\n                get: { method: 'GET', isArray: true, params:{id:'@id'} },\n                getAll: { method: 'GET', isArray: true},\n                delete: { method: 'DELETE', params:{id:'@id'} },\n                update: { \n                  method: 'PUT',\n                  params:{id:'@id'},\n                  url: 'https://wesh-app.herokuapp.com/api/users/:id'\n                },\n                login: { \n                  url: 'https://wesh-app.herokuapp.com/api/users/login/',\n                  method: 'POST',\n                  withCredentials: true\n                },\n                logout: { \n                  url: 'https://wesh-app.herokuapp.com/api/users/logout/',\n                  method: 'GET',\n                  withCredentials: true\n                },\n                loggedin: { \n                  url: 'https://wesh-app.herokuapp.com/api/users/loggedin/',\n                  method: 'GET',\n                  withCredentials: true}\n            });\n    }\n})();\n(function () {\n   'use strict';\n\n   angular\n   .module('events')\n   .factory('slot', slotService);\n          \n    function slotService($resource){\n          return $resource('https://wesh-app.herokuapp.com/api/events/:id/slots/', {}, {\n                create: { method: 'POST', params:{id:'@id'}},\n                update: { method: 'PUT', params:{id:'@id'}}\n            });\n    }\n})();\n\n(function () {\n   'use strict';\n\n   angular\n   .module('events')\n   .factory('participations', participationsService);\n          \n    function participationsService($resource){\n          return $resource('https://wesh-app.herokuapp.com/api/events/:id/participations/', {}, {\n                create: { method: 'POST', params:{id:'@id'}},\n                update: { method: 'PUT', params:{id:'@id', userid: '@userid'}},\n                delete: { method: 'DELETE', params:{id:'@id', userid: '@userid'}, url: 'https://wesh-app.herokuapp.com/api/participations/:id/user/:userid' }\n            });\n    }\n})();\n\n(function () {\n   'use strict';\n\n   angular\n   .module('events')\n   .factory('notification', notificationService);\n          \n    function notificationService($resource){\n          return $resource('https://wesh-app.herokuapp.com/api/notifications/', {}, {\n                create: { method: 'POST' },\n                get: { method: 'GET', params:{id:'@id'}, isArray: true, url: 'https://wesh-app.herokuapp.com/api/users/:id/notifications'},\n                read: { method: 'PUT', params:{id:'@id'}, url: 'https://wesh-app.herokuapp.com/api/notifications/:id'}\n            });\n    }\n})();\n\n\n(function () {\n   'use strict';\n\n   angular\n   .module('events')\n   .factory('event', eventService);\n          \n    function eventService($resource){\n          return $resource('https://wesh-app.herokuapp.com/api/events/', {}, {\n                create: { method: 'POST' },\n                get: { method: 'GET', params:{id:'@id'}, url: 'https://wesh-app.herokuapp.com/api/events/:id'},\n                getAll: { method: 'GET', isArray: true},\n                delete: { method: 'DELETE', params:{id:'@id'}, url: 'https://wesh-app.herokuapp.com/api/events/:id'},\n                update: { method: 'PUT', params:{id:'@id'}, url: 'https://wesh-app.herokuapp.com/api/events/:id'},\n                close: { method: 'PUT', params:{id:'@id'}, url: 'https://wesh-app.herokuapp.com/api/events/:id/close/'}\n            });\n    }\n})();\n\n\n(function () {\n 'use strict';\n\n angular\n .module('events')\n .factory('auth', authService);\n \n function authService($resource, $q, users){\n  var currentUser = {};\n  \n    function getUser(){\n      return currentUser;\n    }\n  \n    //Vérification qu'il y a un utilisateur connecté\n    function isLoggedIn() {\n      if(currentUser) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    \n    //création de compte puis connexion automatique\n    function register(user){\n      var deferred = $q.defer();\n     users.create({\n      email: user.email,\n      password: user.password,\n      name: user.name,\n      lastname: user.lastname,\n      biography: user.bio\n    },\n    function(user) {\n      currentUser = user;\n      deferred.resolve();\n    }, \n    function(error) {\n      deferred.reject(error);\n    });\n     return deferred.promise;\n   }\n   \n    //connexion d'un utilisateur\n    function login(email, password){\n      console.log('test');\n      var deferred = $q.defer();\n      users.login({\n        email: email,\n        password : password\n      },\n      function(user){\n        console.log(user);\n        console.log(\"1\");\n        currentUser = user;\n        deferred.resolve();\n      },\n      function(err){\n        console.log(err);\n        console.log(\"2\");\n        deferred.reject();\n      });\n      return deferred.promise;\n    }\n    \n    //déconnexion de l'utilisateur\n    function logout(){\n      users.logout();\n      currentUser = false;\n    }\n    \n    return ({\n      currentUser : currentUser,\n      isLoggedIn: isLoggedIn,\n      login: login,\n      register: register,\n      getUser : getUser,\n      logout: logout\n    });\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log, $rootScope, $state, $timeout, users) {\n\n    users.loggedin(function(user){\n      $rootScope.currentUser = user;\n    });\n    $rootScope.$on(\"$stateChangeStart\", function (event, toState, toParams, fromState, fromParams) {\n      users.loggedin(function(data){\n        if(data.user){\n          $rootScope.currentUser = data.user;\n        }else if(toState.name != \"register\"){\n           $state.go('login');\n        }\n      });\n      \n      // $rootScope.currentUser = {\n      //   \"id\": 3,\n      //   \"email\": \"isadora\",\n      //   \"name\": \"Isadora2\",\n      //   \"lastname\": \"Bartkowiak\",\n      //   \"biography\": \"dsjmosdv de la merde\",\n      //   \"createdAt\": \"2017-02-04T23:25:34.882Z\",\n      //   \"updatedAt\": \"2017-02-04T23:25:34.882Z\"\n      // };\n      \n      // $rootScope.currentUser = {\n      //   \"id\": 26,\n      //   \"email\": \"pierre@mail.com\",\n      //   \"name\": \"Pierre26\",\n      //   \"lastname\": \"Bartkowiak\",\n      //   \"biography\": \"dsjmosdv de la merde\",\n      //   \"createdAt\": \"2017-02-04T23:25:34.882Z\",\n      //   \"updatedAt\": \"2017-02-04T23:25:34.882Z\"\n      // };\n    });\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n  .module('events')\n  .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n    $stateProvider\n    .state('home', {\n      url: '/',\n      templateUrl: 'app/main/main.html',\n      controller: 'MainController',\n      controllerAs: 'main'\n    })\n    .state('login', {\n      url: '/se-connecter/',\n      templateUrl: 'app/login/login.html',\n      controller: 'LoginController',\n      controllerAs: 'login'\n    })\n    .state('register', {\n      url: '/creer-un-compte/',\n      templateUrl: 'app/login/register.html',\n      controller: 'RegisterController',\n      controllerAs: 'register'\n    })\n    .state('addevent', {\n      url: '/ajouter-evenement/',\n      templateUrl: 'app/events/add-event.html',\n      controller: 'EventController',\n      controllerAs: 'EventCtrl'\n    })\n    .state('singleevent', {\n      url: '/evenement/:id',\n      templateUrl: 'app/events/single-event.html',\n      controller: 'SingleEventController',\n      controllerAs: 'single'\n    })\n    .state('editevent', {\n      url: '/evenement/modifier/:id',\n      templateUrl: 'app/events/edit-event.html',\n      controller: 'EditEventController',\n      controllerAs: 'edit'\n    })\n    .state('closeevent', {\n      url: '/evenement/cloturer/:id',\n      templateUrl: 'app/events/close-event.html',\n      controller: 'CloseEventController',\n      controllerAs: 'close'\n    })\n    .state('profile',{\n     url:'/profile/',\n     templateUrl: 'app/profile/profile.html',\n     controller:'ProfileCtrl',\n     controllerAs:'profile'\n   });\n\n    $urlRouterProvider.otherwise('/');\n    $locationProvider.html5Mode(true);\n\n  }\n\n})();\n\n/* global moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('events')\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('events')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, $mdDateLocaleProvider, moment) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n    \n    moment.locale('fr');\n\n\n    //Set les options des toasts\n    toastrConfig.timeOut = 3000;\n    toastrConfig.showDuration= 1000;\n    toastrConfig.positionClass = 'toast-bottom-right';\n    toastrConfig.newestOnTop =  true;\n\n    \n    //Set les options des input calendrier\n    // $mdDateLocaleProvider.months = ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre'];\n    // $mdDateLocaleProvider.shortMonths = ['Jan', 'Fev', 'Mar', 'Avr', 'Mai', 'Jun', 'Jui', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'];\n    // $mdDateLocaleProvider.days = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'];\n    // $mdDateLocaleProvider.shortDays = ['L', 'M', 'M', 'J', 'V', 'S', 'D'];\n    // $mdDateLocaleProvider.firstDayOfWeek = 1;\n    // $mdDateLocaleProvider.formatDate = function(date) {\n    //   var m = moment(date);\n    //   return m.isValid() ? m.format('L') : '';\n    // };\n    \n  }\n})();\n\nangular.module(\"events\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<navbar bloctitle=\\\"\\'Bonjour \\'+currentUser.lastname\\\" subtitle=\\\"\\'Lorem ipsum dolor sit amet ut primum caetere doloris !\\'\\\"></navbar><nav class=tab><span class=tab-link ng-class=\\\"{\\'active\\': main.activeTab == \\'all\\'}\\\" ng-click=main.showAll()>Tous</span> <span class=tab-link ng-class=\\\"{\\'active\\': main.activeTab == \\'user\\'}\\\" ng-click=main.showUser()>Mes évènements</span> <span class=tab-link ng-class=\\\"{\\'active\\': main.activeTab == \\'done\\'}\\\" ng-click=main.showDone()>Terminé</span></nav><section class=eventlist><div class=row><p class=eventlist-count ng-if=\\\"currentEvent.length > 0\\\">{{currentEvent.length}} évènements</p><p class=eventlist-count ng-if=\\\"main.activeTab != \\'participation\\' && currentEvent.length == 0\\\">Pas d\\'évènement</p><div ng-if=\\\"main.activeTab != \\'participation\\'\\\" ng-repeat=\\\"event in currentEvent=(main.events | filter:main.filter | orderBy: \\'-updatedAt\\')\\\" class=col-md-4><a ng-href=/evenement/{{event.id}} class=eventlist-content ng-class=\\\"{closed: event.closed}\\\"><span class=eventlist-imgwrapper><img src=/assets/images/photo.jpg alt=\\\"\\\" class=eventlist-img><p class=eventlist-slot ng-if=!event.closed>Voir détail</p><p class=eventlist-slot ng-if=event.closed>Evènement cloturé</p></span><ul class=\\\"eventlist-info list-inline\\\"><li class=eventlist-place><i class=\\\"icon-marker eventlist-place-icon\\\"></i> {{event.place}}</li></ul><span class=eventlist-text><p class=eventlist-title>{{event.title}}</p><p class=eventlist-author>Crée par {{event.owner.name}} {{event.owner.lastname}}</p><p class=eventlist-description>{{event.description}}</p></span></a><div class=eventlist-control ng-if=\\\"event.owner.id == currentUser.id && !event.closed\\\"><a class=eventlist-edit ng-href=/evenement/modifier/{{event.id}} class=\\\"btn btn-primary\\\">Modifier</a> <a class=eventlist-close ng-href=/evenement/cloturer/{{event.id}} class=\\\"btn btn-primary\\\">Clôturer</a></div></div></div></section>\");\n$templateCache.put(\"app/profile/profile.html\",\"<navbar bloctitle=\\\"\\'Informations Utilisateur\\'\\\" subtitle=\\\"\\'Lorem ipsum dolor sit amet ut primum!\\'\\\"></navbar><div class=\\\"form-container profile\\\"><section class=\\\"box form-box\\\"><h3 class=box-subtitle>Vous pouvez modifier vos informations</h3><form name=registerForm class=row><!-- champ nom --><div class=\\\"box-field col-sm-6\\\"><label>Nom</label><input required ng-model=profile.user.lastname></div><!-- champ prenom --><div class=\\\"box-field col-sm-6\\\"><label>Prénom</label><input required ng-model=profile.user.name></div><!-- champ bio --><div class=\\\"box-field col-sm-12\\\"><label>Bio</label><textarea ng-model=profile.user.biography></textarea></div><!-- champ email (login) --><div class=\\\"box-field col-sm-12\\\"><label>Adresse e-mail</label><input type=email name=email ng-pattern=/^.+@.+\\\\..+$/ required ng-model=profile.user.email><div ng-messages=registerForm.email.$error role=alert><p ng-message-exp=\\\"[\\'pattern\\']\\\">E-mail invalide</p></div></div><!-- champ mdp --><div class=\\\"box-field col-sm-12\\\"><label>Nouveau mot de passe</label><input type=password ng-model=profile.user.newPassword name=newPassword></div><!-- champ mdp --><div class=\\\"box-field col-sm-12\\\"><label>Confirmation mot de passe</label><input compare-to=profile.user.newPassword type=password ng-model=profile.user.confirmNewPassword name=confirmNewPassword><div ng-show=registerForm.confirmNewPassword.$error.compareTo>Les mots de passe doivent correspondrent</div></div><button ng-click=profile.saveChanges(registerForm) class=\\\"btn btn-primary box-btn\\\">Enregistrer</button></form></section></div>\");\n$templateCache.put(\"app/login/login.html\",\"<!-- navigation se connecter/créer un compte --><div class=connexion-nav><img class=logo src=/assets/images/logo.png alt=\\\"Logo Wesh\\\"><nav><a class=\\\"connexion-nav-link active\\\" href=/se-connecter>Se connecter</a> <a class=connexion-nav-link href=/creer-un-compte/ >Créer un compte</a></nav></div><!-- bloc de connexion --><section class=\\\"box login\\\"><h1 class=box-title>Se connecter</h1><h2 class=box-subtitle>Lorem ipsum dolor sit amet</h2><div class=\\\"box-field col-xs-12\\\"><i class=\\\"icon-mail input-icon\\\"></i> <input class=\\\"input icon\\\" required type=text ng-model=login.email placeholder=\\\"Adresse e-mail\\\"></div><div class=\\\"box-field col-xs-12\\\"><i class=\\\"icon-unlock input-icon\\\"></i> <input class=\\\"input icon\\\" required type=password placeholder=\\\"Mot de passe\\\" ng-model=login.password></div><button ng-click=login.authentificate() class=\\\"btn btn-primary box-btn\\\">Se connecter</button></section>\");\n$templateCache.put(\"app/login/register.html\",\"<!-- navigation se connecter/créer un compte --><div class=connexion-nav><img class=logo src=/assets/images/logo.png alt=\\\"Logo Wesh\\\"><nav><a class=connexion-nav-link href=/se-connecter/ >Se connecter</a> <a class=\\\"connexion-nav-link active\\\" href=/creer-un-compte/ >Créer un compte</a></nav></div><!-- bloc de connexion --><section class=\\\"box register\\\"><h1 class=box-title>Créer un compte</h1><h2 class=box-subtitle>Veuillez remplir le formulaire suivant</h2><form name=registerForm class=row><!-- champ nom --><div class=\\\"box-field col-sm-6\\\"><label>Nom</label><input required ng-model=register.user.lastname></div><!-- champ prenom --><div class=\\\"box-field col-sm-6\\\"><label>Prénom</label><input required ng-model=register.user.name></div><!-- champ bio --><div class=\\\"box-field col-sm-12\\\"><label>Bio</label><textarea ng-model=register.user.bio></textarea></div><!-- champ email (login) --><div class=\\\"box-field col-sm-12\\\"><label>Adresse e-mail</label><input type=email name=email ng-pattern=/^.+@.+\\\\..+$/ required ng-model=register.user.email><div ng-messages=registerForm.email.$error role=alert><p ng-message-exp=\\\"[\\'pattern\\']\\\">E-mail invalide</p></div></div><!-- champ mdp --><div class=\\\"box-field col-sm-12\\\"><label>Mot de passe</label><input type=password required ng-model=register.user.password></div><button ng-click=register.createAccount() class=\\\"btn btn-primary box-btn\\\">Créer un compte</button></form></section>\");\n$templateCache.put(\"app/events/add-event.html\",\"<navbar bloctitle=\\\"\\'Ajouter un évènement\\'\\\" subtitle=\\\"\\'Lorem ipsum dolor sit amet ut primum!\\'\\\"></navbar><div class=\\\"form-container addevent\\\"><div class=\\\"box form-box\\\"><form name=addEventForm class=row><!-- ****** INFO ************************** --><h3 class=box-title>Infos</h3><!-- champ titre --><div class=\\\"box-field col-sm-6\\\"><label>Titre</label><input required ng-model=EventCtrl.event.title></div><!-- champ lieu --><div class=\\\"box-field col-sm-6\\\"><label>Lieu</label><input required ng-model=EventCtrl.event.place></div><!-- champ description --><div class=\\\"box-field col-sm-12\\\"><label>Description</label><textarea ng-model=EventCtrl.event.description rows=5></textarea></div><!-- ****** CRENEAUX ************************** --><h3 class=box-title>Date</h3><!-- 1er champ datepicker --><div class=addevent-slot><div class=\\\"box-field col-xs-12\\\"><i class=\\\"icon-calendar input-icon\\\"></i> <input class=\\\"input icon\\\" mdc-datetime-picker=\\\"\\\" date=true time=true type=text id=datetime show-todays-date=true format=\\\"DD/MM/YYYY HH:mm\\\" min-date=date ng-model=EventCtrl.dates[0].date class=md-input week-start=1 lang=fr cancel-text=Annuler today-text=\\\"Aujourd\\'hui\\\"></div></div><!-- bouton validation --> <button ng-click=EventCtrl.addEvent(addEventForm) class=\\\"btn btn-primary box-btn\\\">Valider</button></form></div></div>\");\n$templateCache.put(\"app/events/close-event.html\",\"<navbar bloctitle=\\\"\\'Clôturer \\'+close.event.title\\\" subtitle=\\\"\\'Choisissez le créneau préféré parmi la liste\\'\\\"></navbar><div class=\\\"form-container closevent\\\" id=closevent><div class=\\\"box form-box\\\"><form name=closeEventForm class=row><p class=single-place><i class=\\\"icon-marker eventlist-place-icon\\\"></i> {{close.event.place}}</p><p class=single-author><i class=icon-head></i> {{close.event.owner.name}} {{close.event.owner.lastname}}</p><p class=single-date><i class=icon-calendar></i> {{close.event.slot[0].date | cleanDate: \\'DD/MM/Y\\'}}</p><h3 class=box-title>Date</h3><!-- bouton validation --> <button ng-click=close.closeEvent($event) class=\\\"btn btn-primary box-btn\\\">Valider</button></form></div></div>\");\n$templateCache.put(\"app/events/edit-event.html\",\"<navbar bloctitle=\\\"\\'Modifier l\\\\\\'évenement\\'\\\" subtitle=edit.event.title></navbar><div class=\\\"form-container editevent\\\" id=editevent><div class=\\\"box form-box\\\"><form name=editEventForm class=row><!-- ****** INFO ************************** --><h3 class=box-title>Infos</h3><!-- champ titre --><div class=\\\"box-field col-sm-6\\\"><label>Titre</label><input required ng-model=edit.event.title></div><!-- champ lieu --><div class=\\\"box-field col-sm-6\\\"><label>Lieu</label><input required ng-model=edit.event.place></div><!-- champ description --><div class=\\\"box-field col-sm-12\\\"><label>Description</label><textarea ng-model=edit.event.description rows=5></textarea></div><!-- ****** CRENEAUX ************************** --><h3 class=box-title>Créneaux</h3><div class=col-sm-12><label>Date(s)</label></div><!-- 1er champ datepicker --><div class=addevent-slot><div class=\\\"box-field col-xs-12\\\"><i class=\\\"icon-calendar input-icon\\\"></i> <input class=\\\"input icon\\\" mdc-datetime-picker=\\\"\\\" date=true time=true type=text id=datetime placeholder=Date show-todays-date=\\\"\\\" format=\\\"DD/MM/YYYY HH:mm\\\" min-date=date ng-model=edit.event.slots[0].date class=md-input week-start=1 lang=fr cancel-text=Annuler today-text=\\\"Aujourd\\'hui\\\"></div></div><!-- bouton control --> <button ng-click=edit.deleteEvent($event) class=\\\"btn btn-primary box-btn\\\">Supprimer</button> <button ng-click=edit.updateEvent(editEventForm) class=\\\"btn btn-primary box-btn\\\">Enregistrer</button></form></div></div>\");\n$templateCache.put(\"app/events/single-event.html\",\"<navbar bloctitle=single.event.title></navbar><div class=\\\"form-container single\\\" id=single><div class=\\\"box form-box\\\"><p class=single-place><i class=\\\"icon-marker eventlist-place-icon\\\"></i> {{single.event.place}}</p><p class=single-author><i class=icon-head></i> {{single.event.owner.name}} {{single.event.owner.lastname}}</p><p class=single-date><i class=icon-calendar></i> {{single.event.slot[0].date | cleanDate: \\'DD/MM/Y\\'}}</p><!-- Si l\\'evenement est cloturé --><div class=\\\"slots list-inline\\\" ng-if=single.event.closed><h3 class=box-title>Evènement fermé</h3><p class=single-closed>Cet evènement a été clotûré</p></div><!-- S\\'il n\\'est pas cloturé --><h3 class=box-title>Description</h3><div class=single-text>{{single.event.description}}</div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<header class=header><div class=header-right><a ng-href=/ class=header-home><img class=\\\"logo header-right-logo\\\" src=/assets/images/logo-white.png alt=\\\"Logo Wesh\\\"></a><nav class=header-nav><a ng-href=/ ng-class=\\\"{ active: nav.currentState == \\'home\\'}\\\">Accueil</a> <a ng-href=/ajouter-evenement/ ng-class=\\\"{ active: nav.currentState == \\'addevent\\'}\\\">Ajouter event</a></nav></div><ul class=\\\"header-user list-inline\\\"><li class=header-user-profile><a ng-href=/profile/ ng-bind-html=nav.sanitize(nav.user.name)></a></li><li class=header-user-alert><i class=\\\"icon icon-notifications_none header-notif-btn\\\" ng-click=\\\"nav.notifPanel = !nav.notifPanel\\\" ng-class=\\\"{active: nav.notifPanel}\\\"><span class=header-notif-count ng-if=\\\"nav.notificationsCount > 0\\\">{{nav.notificationsCount}}</span></i><div class=header-notif ng-show=nav.notifPanel><p class=header-notif-title>Notifications</p><div class=header-notif-content><div class=header-notif-el ng-repeat=\\\"notif in nav.notifications | orderBy:\\'-createdAt\\'\\\" ng-class=\\\"{new: !notif.seen}\\\"><p class=header-notif-txt>{{notif.content}}</p><p class=header-notif-date>{{notif.createdAt | relativeDate}}</p><span ng-if=!notif.seen ng-click=nav.readNotif(notif.id) class=header-notif-read>OK</span></div><div class=header-notif-el ng-if=\\\"nav.notifications.length == 0\\\"><p class=header-notif-txt>Il n\\'y pas encore de notifications</p></div></div></div></li><li class=header-user-logout><i class=\\\"icon icon-power\\\" ng-click=nav.logout()></i></li></ul><div class=header-text><h1 class=header-title ng-bind-html=nav.sanitize(nav.bloctitle)></h1><p class=header-subtitle>{{nav.subtitle}}</p><a class=header-add ng-if=\\\"nav.currentState == \\'home\\'\\\" ng-href=/ajouter-evenement/ ><i class=icon-plus></i></a></div></header>\");}]);"],"sourceRoot":"/source/"}